CREATE TABLE EMPLOYEE (
    EMPLOYEE_ID INTEGER PRIMARY KEY,
    EMP_FIRSTNAME VARCHAR2(100), 
    EMP_LASTNAME VARCHAR2(100),
    DEPARTMENT_ID INTEGER NOT NULL,
    SALARY VARCHAR2(100),
    EMP_EMAIL VARCHAR2(100)
);  
/
CREATE TABLE DEPARTMENT (
    DEPARTMENT_ID INTEGER PRIMARY KEY,
    DEPARTMENT_NAME VARCHAR2(100)
);
/
ALTER TABLE EMPLOYEE
ADD CONSTRAINT FK_EMPLOYEE_DEPARTMENT
FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT(DEPARTMENT_ID);
/
CREATE SEQUENCE SQ_EMPLOYEE_PK
START WITH 1000
INCREMENT BY 1;
/
CREATE SEQUENCE SQ_DEPARTMENT_PK
START WITH 1000
INCREMENT BY 1;
/
CREATE OR REPLACE TRIGGER TR_INSERT_EMPLOYEE
BEFORE INSERT ON EMPLOYEE 
FOR EACH ROW
BEGIN
    SELECT SQ_EMPLOYEE_PK.NEXTVAL INTO :NEW.EMPLOYEE_ID FROM DUAL;
END;
/
CREATE OR REPLACE TRIGGER TR_INSERT_DEPARTMENT
BEFORE INSERT ON DEPARTMENT --SPECIFY OPERATION, BEFORE/AFTER, AND TABLE
FOR EACH ROW
BEGIN
    SELECT SQ_DEPARTMENT_PK.NEXTVAL INTO :NEW.DEPARTMENT_ID FROM DUAL;
END;
/
INSERT ALL
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(1, 'James', 'Robins', 1, '50000', 'jamesr@gmail.com')
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(2, 'Robin', 'Lanter', 2, '60000', 'robinl@gmail.com')
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(3, 'Jamie', 'Smith', 3, '70000', 'jamies@gmail.com')
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(4, 'Rachel', 'Russell', 4, '55000', 'rachelr@gmail.com')
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(5, 'Julie', 'Raymond', 5, '45000', 'julier@gmail.com')
INTO EMPLOYEE(EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL)
VALUES(6, 'Raymond', 'Smith', 6, '65000', 'raymonds@gmail.com')
SELECT * FROM DUAL;
/
INSERT ALL
INTO DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME)
VALUES(1, 'Accounting')
INTO DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME)
VALUES(2, 'Finance')
INTO DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME)
VALUES(3, 'Marketing')
SELECT * FROM DUAL;
/
